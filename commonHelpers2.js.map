{"version":3,"file":"commonHelpers2.js","sources":["../src/js/cookiesAccept.js","../src/js/burgerMenu.js","../src/js/sectionsObserver.js"],"sourcesContent":["const refs = {\n  cookiesAccept: document.querySelector('.cookies-accept'),\n  cookiesDecline: document.querySelector('.cookies-decline'),\n  cookies: document.querySelector('.cookies'),\n};\n\nfunction acceptHandler(isAccepted) {\n  refs.cookies.classList.add('closed');\n  localStorage.setItem('isAccepted', JSON.stringify(isAccepted));\n}\n\nconst isAccepted = localStorage.getItem('isAccepted');\n\nif (isAccepted === null) {\n  refs.cookies.classList.remove('closed');\n  refs.cookiesAccept.addEventListener('click', () => acceptHandler(true));\n  refs.cookiesDecline.addEventListener('click', () => acceptHandler(false));\n}\n","const refs = {\n  headerMenuButton: document.querySelector('.header-menu-button'),\n  menu: document.querySelector('.mobile-menu'),\n  close: document.querySelector('.menu-close-button'),\n};\n\nfunction handleMenu(isOpen) {\n  if (isOpen) {\n    refs.menu.classList.remove('closed');\n  } else {\n    refs.menu.classList.add('closed');\n  }\n}\n\nrefs.headerMenuButton.addEventListener('click', () => handleMenu(true));\nrefs.close.addEventListener('click', () => handleMenu(false));\n\nrefs.menu.addEventListener('click', event => {\n  if (event.target.nodeName === 'A' || event.target.nodeName === 'IMG') {\n    handleMenu(false);\n  }\n});\n","function reduceHrefs(elems) {\n  return [...elems].reduce((acc, elem) => {\n    const href = elem.getAttribute('href');\n    if (href && href.includes('#')) {\n      const elemId = href.split('#')[1];\n      acc[elemId] = elem;\n    }\n    return acc;\n  }, {});\n}\n\nfunction reduseId(elems) {\n  return [...elems].reduce((acc, elem) => {\n    const elemId = elem.getAttribute('id');\n    if (elemId) acc[elemId] = elem;\n    return acc;\n  }, {});\n}\n\nconst refs = {\n  // mobileLinks: reduceHrefs(document.querySelectorAll('.mobile-menu-list a')),\n  // headerLinks: reduceHrefs(document.querySelectorAll('.header_menu a')),\n  // sections: reduseId(document.querySelectorAll('section')),\n  // mobLinks: document.querySelectorAll('.mobile-menu-list a'),\n  // headLinks: document.querySelectorAll('.header_menu a'),\n  sections: document.querySelectorAll('section'),\n  links: [\n    ...Object.entries(\n      reduceHrefs(document.querySelectorAll('.mobile-menu-list a'))\n    ),\n    ...Object.entries(reduceHrefs(document.querySelectorAll('.header_menu a'))),\n    // ...document.querySelectorAll('.mobile-menu-list a'),\n    // ...document.querySelectorAll('.header_menu a'),\n  ],\n};\n\nconsole.log(refs.links);\n\n// console.log(refs.mobileLinks);\n// console.log(refs.headerLinks);\n// console.log(refs.sections);\n\nconst observer = new IntersectionObserver(\n  entries => {\n    entries.forEach(entry => {\n      if (entry.isIntersecting) {\n        const id = entry.target.id;\n        refs.links.forEach(link => {\n          link[1].classList.toggle('active', link[0] === id);\n          // console.log(id, link[0]);\n        });\n      }\n    });\n  },\n  {\n    threshold: 0.5,\n  }\n);\n\nrefs.sections.forEach(section => observer.observe(section));\n"],"names":["refs","acceptHandler","isAccepted","handleMenu","isOpen","event","reduceHrefs","elems","acc","elem","href","elemId","observer","entries","entry","id","link","section"],"mappings":"0uBAAA,MAAMA,EAAO,CACX,cAAe,SAAS,cAAc,iBAAiB,EACvD,eAAgB,SAAS,cAAc,kBAAkB,EACzD,QAAS,SAAS,cAAc,UAAU,CAC5C,EAEA,SAASC,EAAcC,EAAY,CACjCF,EAAK,QAAQ,UAAU,IAAI,QAAQ,EACnC,aAAa,QAAQ,aAAc,KAAK,UAAUE,CAAU,CAAC,CAC/D,CAEA,MAAMA,EAAa,aAAa,QAAQ,YAAY,EAEhDA,IAAe,OACjBF,EAAK,QAAQ,UAAU,OAAO,QAAQ,EACtCA,EAAK,cAAc,iBAAiB,QAAS,IAAMC,EAAc,EAAI,CAAC,EACtED,EAAK,eAAe,iBAAiB,QAAS,IAAMC,EAAc,EAAK,CAAC,GChB1E,MAAMD,EAAO,CACX,iBAAkB,SAAS,cAAc,qBAAqB,EAC9D,KAAM,SAAS,cAAc,cAAc,EAC3C,MAAO,SAAS,cAAc,oBAAoB,CACpD,EAEA,SAASG,EAAWC,EAAQ,CACtBA,EACFJ,EAAK,KAAK,UAAU,OAAO,QAAQ,EAEnCA,EAAK,KAAK,UAAU,IAAI,QAAQ,CAEpC,CAEAA,EAAK,iBAAiB,iBAAiB,QAAS,IAAMG,EAAW,EAAI,CAAC,EACtEH,EAAK,MAAM,iBAAiB,QAAS,IAAMG,EAAW,EAAK,CAAC,EAE5DH,EAAK,KAAK,iBAAiB,QAASK,GAAS,EACvCA,EAAM,OAAO,WAAa,KAAOA,EAAM,OAAO,WAAa,QAC7DF,EAAW,EAAK,CAEpB,CAAC,ECrBD,SAASG,EAAYC,EAAO,CAC1B,MAAO,CAAC,GAAGA,CAAK,EAAE,OAAO,CAACC,EAAKC,IAAS,CACtC,MAAMC,EAAOD,EAAK,aAAa,MAAM,EACrC,GAAIC,GAAQA,EAAK,SAAS,GAAG,EAAG,CAC9B,MAAMC,EAASD,EAAK,MAAM,GAAG,EAAE,CAAC,EAChCF,EAAIG,CAAM,EAAIF,CACf,CACD,OAAOD,CACR,EAAE,CAAE,CAAA,CACP,CAUA,MAAMR,EAAO,CAMX,SAAU,SAAS,iBAAiB,SAAS,EAC7C,MAAO,CACL,GAAG,OAAO,QACRM,EAAY,SAAS,iBAAiB,qBAAqB,CAAC,CAC7D,EACD,GAAG,OAAO,QAAQA,EAAY,SAAS,iBAAiB,gBAAgB,CAAC,CAAC,CAG3E,CACH,EAEA,QAAQ,IAAIN,EAAK,KAAK,EAMtB,MAAMY,EAAW,IAAI,qBACnBC,GAAW,CACTA,EAAQ,QAAQC,GAAS,CACvB,GAAIA,EAAM,eAAgB,CACxB,MAAMC,EAAKD,EAAM,OAAO,GACxBd,EAAK,MAAM,QAAQgB,GAAQ,CACzBA,EAAK,CAAC,EAAE,UAAU,OAAO,SAAUA,EAAK,CAAC,IAAMD,CAAE,CAE3D,CAAS,CACF,CACP,CAAK,CACF,EACD,CACE,UAAW,EACZ,CACH,EAEAf,EAAK,SAAS,QAAQiB,GAAWL,EAAS,QAAQK,CAAO,CAAC"}